/*! -------------------------------------------------------------------------------------------
JAVASCRIPT main engine!

* @Version:    1.0 - 2014
* @author:     Burocratik (alexandre gomes)
* @email:      alex@burocratik.com
* @website:    http://www.burocratik.com
* @preserve
--------------------------------------------------------------------------------------------*/
function svgGraphInteraction() { }

function mainNavigation() { var e = $("#mainNavList li > a"),
        a = $("#mainNavList");
    $_btnCloseNav.on("clickTouchEvent", function(e) { return e.stopImmediatePropagation(), mainNav_controllScroll(), e.stopPropagation(), e.preventDefault(), !1 }), $_mainNavHasSec.on("click", function(e) { e.stopPropagation(), e.preventDefault(); var a = $(this),
            o = a.parent(); return a.hasClass("on") ? (a.next().velocity("slideUp", { duration: 100 }), a.toggleClass("on"), void o.toggleClass("on")) : (a.next().find("li").velocity("transition.flipXIn", { stagger: 50, duration: 600 }), a.next().velocity("slideDown", { duration: 100 }), $_mainNavHasSec.each(function() { $(this).hasClass("on") && ($(this).next().velocity("slideUp", { duration: 100 }), $(this).toggleClass("on"), $(this).parent().toggleClass("on")) }), a.toggleClass("on"), o.toggleClass("on"), !1) }), $(".secNavList a, #mainNavList a.direct").on("clickTouchEvent", function() { $_btnCloseNav.click(), $("body").removeClass("home") }), $("h1 a").on("clickTouchEvent", function() { return $_body.hasClass("home") ? !1 : void($_body.hasClass("openNav") && $_btnCloseNav.click()) }), $("#nav-lang a").on("clickTouchEvent", function() { $_btnCloseNav.click(), $("body").removeClass("home"); var e = $(this),
            a = e.attr("href"),
            o = encodeURI(window.location.pathname),
            t = a + "?from=" + o; return window.location.href = t, !1 }), $(".btnCloseNav-back a").on("clickTouchEvent", function(e) { var a = $(this); return document.referrer ? (window.history.back(), !1) : !0 }), $(".brandguides").on("contextmenu", function(e) { e.preventDefault(), e.stopPropagation(); var a = $(this),
            o = window.location.pathname,
            t = $("head title").text(),
            i = a.attr("data-url-brand"),
            n = a.attr("data-title-home"); return history.replaceState({}, n, i), $("head title").html(n), ga("send", "pageview", window.location.pathname), Modernizr.localstorage && (localStorage.originalURL = o, localStorage.originalTitle = t), openModal(i, o, t), !1 }) }

function mainNav_changecolor() { var e = $("body"),
        a = $("#headNav"),
        o = $(".colorId"),
        t = $("section"),
        i = $(".colorNavHome"); if (e.hasClass("openNav")) return !1; if (t.hasClass("noColorId")) return !1; if (!o.length) return !1; var n = o.attr("data-offset");
    n || (n = 110); var l = verge.rectangle(o, n).top < 0; if (l ? a.addClass("withColorId") : a.removeClass("withColorId"), e.hasClass("home")) { var s = verge.inY(i, 0);
        s ? $(".nav-home").addClass("withColor") : $(".nav-home").removeClass("withColor"), $_html.hasClass("ie") && $(".relative-wrapper").hasClass("fixed") && a.removeClass("withColorId") } }

function mainNav_controllScroll() {  }

function mainNav_sectionOn(e) { $whoHasUrl = $("#mainNavList a"), $whoHasUrl.each(function() { var a = $(this),
            o = a.attr("href"); return e == o ? ($whoHasUrl.parent().removeClass("current-on"), void a.parent().addClass("current-on")) : void 0 }), $whoWIllbeOn_li = $("#mainNavList li.current-on"), $whoWIllbeOn_li.parent().prev().hasClass("hasSecNav") && $whoWIllbeOn_li.parent().parent().addClass("current-on") }

function headerAnimExit(e) {


    var t = $(".mainPage.currentPage"),
        i = $("#headNav"),
        n = $("section"),
        l = $(".pageHeader"),
        s, r, d, c, u = l.height(); var v = verge.scrollY();
    d = !1, v > u && (r = !0, t.addClass("notrans"), t.addClass("go-push"), n.hasClass("noColorId") || i.addClass("withColorId"))}

function navigationInPage(e) {
    function a() { var e = verge.viewportH();
        n.each(function(e) { var a = $(this); if (!verge.inY(a, -r)) { var o = a.attr("data-whereTo"),
                    t = $(".navPage a[href='#" + o + "']"); return void t.parent().removeClass("on") } if (verge.inY(a, -s)) { var o = a.attr("data-whereTo"),
                    t = $(".navPage a[href='#" + o + "']");
                t.parent().addClass("on") } }) } var o = $(".navPage"),
        t = $(".navPage a"),
        i = $(".navPage a[href='#go1']"),
        n = $(".forViewport"),
        l = 2,
        s = (verge.viewportH() / 2).toFixed(0),
        r = (verge.viewportH() / 3).toFixed(0); return t.click("clickTouchEvent", function() { var e = $(this),
            a = $(this).attr("data-offset"),
            o = $(this).attr("href").replace("#", "."),
            t = $("" + o); return goTo(t, 1700, null, a), !1 }) }

function animGoDown(e) { }

function slideApplications() {
    function e(e) { $_holderLoad.empty(), $_holderLoad.load(e, function() { $_holderLoad.imagesLoaded().always(function(e) { $_body.removeClass("loading"); var o = -1;
                $.doTimeout(80, function() { return o += 1, $(".picMozaic li[data-block$=" + t[o] + "] img ").hasClass("no-img") || $(".picMozaic li[data-block$=" + t[o] + "] ").addClass("loadingIN"), i > o ? !0 : void 0 }); var n = 1180;
                $.doTimeout(n, function() { $_holderLoad.find(".no-img").length >= 3 ? $('img[src$="wind-application-transp.gif"]').hide() : $('img[src$="wind-application-transp.gif"]').show(), $(".picMozaic li div").each(function(e) { var a = $(this),
                            o = a.parent().attr("data-block"),
                            t = $("#holderLoad li[data-block$=" + o + "] div");
                        a.after(t), a.parent().removeClass("loadingIN").addClass("loadingOUT"), a.remove(), t.attr("class", "") }), $.doTimeout(1500, function() { a.removeClass("loadingOUT") }) }) }) }) } var a = $(".picMozaic li"),
        o = $(".picMozaic li div");
    $links = $(".picMozaic .has_slide a"); var t = [3, 1, 5, 2, 6, 4],
        i = t.length,
        n = !1;
    $links.click("clickTouchEvent", function() { var a = $(this),
            o = a.attr("href"); return $links.removeClass("selected"), $(this).addClass("selected"), $_body.addClass("loading"), e(o), !1 }) }

function tabsNavigation() { var e = $(".tabsNav").find("a"),
        a = $(".tabsCont");
    e.on("click", function() { var o = $(this),
            t = this.hash,
            i = $(t); return e.parent().removeClass("on"), o.parent().addClass("on"), a.css("opacity", 0).hide(), i.show(), i.velocity("transition.slideUpIn", 800), !1 }) }

function flipScaleSquares() { var e = $(".flipInfo li");
    e.hover(function() { $(this).addClass("flip") }, function() { $(this).removeClass("flip") }) }

function animBlockDownUp() {
    function e() { var e = verge.viewportH() / 2;
        t.velocity({ translateY: e }, 0) }

    function a() { var e = verge.scrollY(),
            a = 0;
        o.each(function(e) { var o = $(this),
                t = o.find(".blockDownUp");
            verge.inY(o, -300) && t.each(function(e) { var o = $(this); if (!o.hasClass("animDone")) { o.addClass("animDone"); var t = o.attr("data-delay");
                    t && (a = t), o.velocity({ translateZ: 0, translateY: 0 }, { duration: 700, easing: [.075, .82, .165, 1], mobileHA: !0, delay: a }) } }) }) } var o = $(".animBlockDownUp"),
        t = $(".blockDownUp"); if (!$_body.hasClass("ismobile")) { if ($_html.hasClass("ie")) return void $(".pageHeader").parent().next().addClass("colorId");
        e(), $_window.on("scroll", $.debounce(10, a)) } }

function startPrlxYeah_marketWind() { $("#moveClouds").parallaxTransY("50%", .5, !1, 250, !1) }

function aboutPicHover() { $(".group4Pic figure").mouseenter(function(e) { var a = $(this),
            o = a.find(".anim"),
            t = a.find(".mask");
        o.is(":animated") || (o.velocity("transition.slideUpBigIn", { stagger: 50, duration: 500 }), t.velocity({ opacity: .5 }, 200), e.stopPropagation()) }), $(".group4Pic figure").mouseleave(function(e) { var a = $(this),
            o = a.find(".anim"),
            t = a.find(".mask");
        o.is(":animated") || (o.velocity("transition.slideDownBigOut", { stagger: 10, duration: 300 }), t.velocity({ opacity: 0 }, 200), e.stopPropagation()) }), $(".group4Pic figure").on("tap", function(e, a) { var o = $(this),
            t = o.find(".anim"),
            i = o.find(".mask");
        o.hasClass("fortouch") ? (t.velocity("transition.slideDownBigOut", { stagger: 0, duration: 300 }), i.velocity({ opacity: 0 }, 200)) : (t.velocity("transition.slideUpBigIn", { stagger: 100, duration: 500, mobileHA: !0 }), i.velocity({ opacity: .5 }, 200)), o.toggleClass("fortouch") }) }

function startVideoPlayonScroll(e) { return e ? void $_window.on("scroll", $.debounce(10, videoInPageScroll_inViewport)) : ($_window.off("scroll", $.debounce(10, videoInPageScroll_inViewport)), !1) }

function videoInPageScroll_inViewport() { $viewportControl = $(".video-onviewport"), $viewportControl.each(function(e) { var a = $(this);
        a.hasClass("animDone") || verge.inY(a, -300) && (a.addClass("animDone"), $.doTimeout(500, function() { a.get(0).play(), a.parent().find(".btn-playVideo").velocity({ opacity: [1, 0] }, { duration: 300, delay: 1e3 }) })) }) }

function startVideoText(e) { if (!e) return void $.doTimeout("textAnimVideo", !1); var a = $(".flip-text-video li"),
        o = a.length,
        t = Math.floor(Math.random() * o + 1),
        i = t;
    $(".flip-text-video li").eq(t).addClass("set"), $.doTimeout("textAnimVideo", 900, function() { 0 == i && $(".flip-text-video li").removeClass("down"); var e = $(".flip-text-video li.set"); return $(".flip-text-video li.set").addClass("down").removeClass("set"), e.next().addClass("set"), e.prev().removeClass("down"), ++i, i >= o ? (i = 0, $(".flip-text-video li").eq(i).addClass("set"), !0) : !0 }) }

function startFXaudio(e) { if (!e) return $_window.off("scroll", startFXaudio_Scroll), !1; var a = $("#soundfx").get(0); "true" != $.cookie("mute-sound") && a.play(), $_window.on("scroll", startFXaudio_Scroll) }

function startFXaudio_Scroll() { if ("true" != $.cookie("mute-sound")) { var e = verge.scrollY(),
            a = $("#soundfx").get(0),
            o = $("#soundfxContent").get(0),
            t = $("#soundfxContent").attr("data-start"),
            i = $("#soundfxContent").attr("data-end"),
            n = (i - t) / 2,
            l = e - t,
            s = l / n; if (a) { .001 > r || e > _globalWindowHeight ? (a.volume = 0, a.pause()) : a.play(); var r = (1 - verge.scrollY() / (.9 * _globalWindowHeight)).toFixed(3);
            0 >= r && (r = 0), r > 1 ? a.volume = 1 : a.volume = r, o && (e > t && i > e ? (l > n && (s = 2 - l / n), o.play(), i > e && (o.volume = s)) : (o.volume = 0, o.pause())) } } }

function startButtonFXaudio(e) { var a = $("#soundfx").get(0); if (a && e) { var o = setInterval(function() { a.volume < .9 ? a.volume += .1 : (a.volume = 1, clearInterval(o)) }, 50);
        a.play() } else if (a && !e) var t = setInterval(function() { a.volume < .001 ? (a.volume = 0, a.pause(), clearInterval(t)) : a.volume -= .1 }, 50) }

function videoReplay() { var e = $(".btn-playVideo"); return e.on("click", function() { var e = $(this),
            a = e.parents("figure").find("video"); return a.get(0).play(), !1 }), $_body.hasClass("ismobile") ? void(($(".toload").hasClass("casestudies") || $(".toload").hasClass("wind")) && $(".video-onviewport").attr("controls", !0)) : !1 }

function startPageCompany(e) { var a = $(".timeline"),
        o = $(".timeline ul"),
        t = $(".timeline ul li"),
        i = t.css("width"),
        n = t.length,
        l = parseInt(i) * n;
    svgGraphInteraction(), a.css({ width: _globalWindowWidth - 135 }), o.css({ width: l }); var s = Math.floor(n / 2),
        r = 0,
        d = parseInt(i),
        c = 2 * d;
    $("body").hasClass("ismobile") && (a.css({ width: _globalWindowWidth - 100 }), c = d), o.css({ width: l }), $(".nextYears").on("click", function(e) { return r += 1, r >= s - 2 ? $(this).hide() : $(this).show(), $(".prevYears").show(), o.velocity({ left: -r * c }, 800, [.465, .183, .153, .946]), !1 }), $(".prevYears").on("click", function(e) { return r -= 1, 0 >= r ? $(this).hide() : $(this).show(), $(".nextYears").show(), o.velocity({ left: -r * c }, 800, [.465, .183, .153, .946]), !1 }), $_body.hasClass("ismobile") || (e ? $_window.on("scroll", $.debounce(10, company_footer)) : $_window.off("scroll", company_footer)) }

function company_footer() { var e = $(".company footer");
    _globalWindowScrollY > 1e3 ? e.addClass("show") : e.removeClass("show") }

function headerForMobile() { var e = document.querySelector("#headNav");
    new Headroom(e, { tolerance: { down: 1, up: 1 }, offset: 15, classes: { initial: "", pinned: "slideDown", unpinned: "slideUp", top: "above-offset", notTop: "below-offset" } }).init() }

function footerHover(e) { var a = $(".zoompic");
    a.hover(function() { $(this).addClass("hover") }, function() { $(this).removeClass("hover") }) }

function picZoom_inViewport() { var e = $(".likeCasestudies .nextCaseStudy"),
        a = $(".forViewportFooter");
    verge.inY(a) ? e.addClass("zoompic-loop") : e.removeClass("zoompic-loop") }

function fullImageSize() { var e = $(".picFull");
    e.css("height", calculateHeight()) }

function fullImageSize_min() { var e = $(".picFull-min");
    e.css("min-height", calculateHeight()) }

function fullFixedBg() { var e = $(".fixedBg");
    e.css("min-height", calculateHeight()) }

function mobileBehaviorClass(e) { return $_html.hasClass("mobile") ? void $_html.addClass("mobileBehavior") : void 0 }

function onStartPageForAjax() { var e, a, o, t, i, n, l, s, r, d, c, u, v, h, m, g, f, p = $(".currentPage .toload");
    $(".animGodown").length ? animGoDown(!0) : (eventMouseBecauseFF(!1), stopPlayScroll(!1)), p.hasClass("wind") && startPrlxYeah_marketWind(), e = p.hasClass("header-push") ? !0 : !1, $("html").hasClass("mobileBehavior") && (e = !1), headerAnimExit(e), a = $(".currentPage .navPage").length ? !0 : !1, navigationInPage(a), t = p.hasClass("hasScrollme") ? !0 : !1, jqueryScrollme(t), animBlockDownUp(), i = $(".currentPage .likeCasestudies").length ? !0 : !1, footerHover(i), o = $(".currentPage .royalSlider").length ? !0 : !1, startRoyalSlider(o), o = $(".currentPage #modalimages-royal").length ? !0 : !1, startRoyalSliderModal(o), $(".currentPage .picMozaic_slaideNav").hasClass("has_slide") && slideApplications(), tabsNavigation(), (p.hasClass("news") || p.hasClass("rd")) && startAllNews(), p.hasClass("products") && startPageProducts(), g = p.hasClass("company") ? !0 : !1, startPageCompany(g), l = p.hasClass("home") ? !0 : !1, homepage(l), n = $(".currentPage .video-onviewport").length ? !0 : !1, startVideoPlayonScroll(n), $(".currentPage .flip-text-video").length ? do_videoPlayText = !0 : do_videoPlayText = !1, startVideoText(do_videoPlayText), v = p.hasClass("fx-audio") ? !0 : !1, startFXaudio(v), m = $(".currentPage .list-features").length ? !0 : !1, advantagesAnimation(m), p.hasClass("market") && initGenericMarkets(), p.hasClass("civil") && initCivilMarket(), s = p.hasClass("energy") ? !0 : !1, initFiberAnimation(s), r = p.hasClass("civil") ? !0 : !1, initCityAnimation(r), d = p.hasClass("aerospace") ? !0 : !1, initAerospaceAnimation(d), c = p.hasClass("other") ? !0 : !1, initOtherAnimation(c), u = p.hasClass("wind") ? !0 : !1, initWindAnimation(u), f = p.hasClass("page404") ? !0 : !1, initErrorAnimation(f), openPopUp(); var C = _globalWindowWidth + 150;
    $_nextContentTemp.velocity({ scale: .9, translateX: C }), mainNav_changecolor(), fullImageSize(), fullImageSize_min(), fullFixedBg(), videoReplay(), $(document).on("click", "a[rel=external]", function(e) { e.stopImmediatePropagation(), e.preventDefault(), e.stopPropagation(); var a = window.open($(this).attr("href")); return a.closed }), $("a[rel=print]").click(function() { var e = window.print(); return !1 }), $("a.email").each(function() { var e = $(this).text().replace("[-at-]", "@");
        $(this).text(e), $(this).attr("href", "mailto:" + e) }), $("input[type=text], textarea").each(function() { if ($(this).hasClass("textLimpar")) { var e = this.defaultValue;
            $(this).focus(function() { $(this).val() == e && $(this).val("") }), $(this).blur(function() { "" == $(this).val() && $(this).val(e) }) } }) }

function muteSound() { var e = $(".mute-button"); "true" == $.cookie("mute-sound") && e.removeClass("sound-on"), e.on("click", function() { var e = $(this);
        e.toggleClass("sound-on"), e.hasClass("sound-on") ? ($.cookie("mute-sound", "false"), startButtonFXaudio(!0)) : ($.cookie("mute-sound", "true"), startButtonFXaudio(!1)) }) }

function initGenericMarkets() { var e = $(".icon-shape-toAnim");
    e.addClass("animGo") }

function initCivilMarket() { if (!$_body.hasClass("ismobile")) { var e = document.getElementById("video-civil"),
            a = document.getElementById("canvas-video-civil"),
            o = a.getContext("2d");
        e.play(), e.loop = !0; var t = 670,
            i = 670;
        a.width = t, a.height = i; var n = 1e3 / 30;
        $.doTimeout("loop_civilVideo", n, function() { return o.drawImage(e, 0, 0), !0 }) } }

function initFiberAnimation(e) {  }

function energyFiber_inViewport() { var e = $(".fiberAnimation-block"),
        a = $(".ef-1-2-glow"),
        o = $(".animate-gif"); if (verge.inY(e, -100)) { if (e.hasClass("fiberAnimation-done")) return;
        e.addClass("fiberAnimation-done"), o.each(function(e) { var a = $(this),
                o = a.find("img"),
                t = a.attr("data-delay"),
                i = a.attr("data-gif");
            setTimeout(function() { o.attr("src", i) }, t) }) } }

function initCityAnimation(e) { var a = $(".civil-building"),
        o = $(".bridge .animated.red"); return e ? void $_window.on("scroll", $.debounce(10, civilCity_inViewport)) : (o.removeClass("show-gif"), a.removeClass("show-gif"), $_window.off("scroll", $.debounce(10, civilCity_inViewport)), !1) }

function civilCity_inViewport() { var e = $(".civil-building"),
        a = $(".bridge .animated.red"),
        o = $(".png"),
        t = $(".cityAnimation-block"); if (verge.inY(t, -100)) { if (o.hasClass("start")) return;
        o.addClass("start"), $.doTimeout(3200, function() { e.addClass("show-gif"), a.addClass("show-gif") }) } }

function initAerospaceAnimation(e) { if (!e) return $_window.off("scroll", $.debounce(10, aerospace_inViewport)), !1;
    svgGraphInteraction(); var a = $(".aerospace-altitude");
    _global_maxAltitude = a.attr("data-max"); var o = a.attr("data-min"),
        t = $(".picMozaic").offset().top - 370,
        i = $(".clouds");
    verge.inY(i, 0) ? i.hasClass("goAnim") || i.addClass("goAnim") : i.removeClass("goAnim"), _global_coeficient = (_global_maxAltitude - o) / t, $_window.on("scroll", $.debounce(10, aerospace_inViewport)) }

function aerospace_inViewport() { var e = $(".aerospace-altitude"),
        a = $(".aerospaceAnimation-block"),
        o = $(".clouds"),
        t = $(".aerospace-altitude-meter"),
        i = $(".aerospace-elevation-number"),
        n = $(".aeroalpes"),
        l = $(window).scrollTop(),
        s = .05 * l;
    verge.inY(a, -400) && (a.hasClass("aerospaceAnimation-done") || (a.addClass("aerospaceAnimation-done"), $(".animate-gif").each(function(e) { var a = $(this),
            o = a.find("img"),
            t = a.attr("data-gif");
        o.attr("src", t) }))), verge.inY(o, 0) ? o.hasClass("goAnim") || o.addClass("goAnim") : o.removeClass("goAnim"), verge.inY(n, -600) ? e.addClass("goAnim") : e.removeClass("goAnim"), i.text(Math.round(_global_maxAltitude - l * _global_coeficient)), t.css({ transform: "translate3D(0px," + s + "px, 0px)" }) }

function initOtherAnimation(e) { if (!e) return $_window.off("scroll", $.debounce(10, other_inViewport)), !1; var a = $(".other-altitude");
    _global_maxAltitude = a.attr("data-max"); var o = a.attr("data-min"),
        t = $("#1").offset().top - 1400;
    _global_coeficient = (_global_maxAltitude - o) / t; var i = $(".other-rocks-left"),
        n = $(".other-rocks-right");
    setInterval(function() { i.animatePNG(100, 74, 40, 1), n.animatePNG(100, 73, 40, 1), i.animatePNG(100, 74, 40, 0), n.animatePNG(100, 73, 40, 0) }, 6e3), $_window.on("scroll", $.debounce(10, other_inViewport)) }

function initOtherAnimationRocks() {}

function initWindAnimation(e) { return e ? void svgGraphInteraction() : !1 }

function initErrorAnimation(e) { return e ? void webglWave("init", "page404") : !1 }

function other_inViewport() { var e = $(".other-altitude"),
        a = $(".other-meter"),
        o = $(".other-elevation-number"),
        t = $(".pageHeader"),
        i = $(".dirt"),
        n = $(".other-altitude-text"),
        l = $(".other-underground-text"),
        s = $(".customers"),
        r = $(window).scrollTop(),
        d = 1.3 * r,
        c = Math.round(_global_maxAltitude - r * _global_coeficient);
    verge.inY(t, 500) && verge.inY(i, 0) ? e.addClass("goAnim") : e.removeClass("goAnim"), 0 >= c ? l.hasClass("goAnim") || (l.addClass("goAnim"), n.removeClass("goAnim")) : n.hasClass("goAnim") || (n.addClass("goAnim"), l.removeClass("goAnim")), o.text(c), a.css({ transform: "translate3D(0px," + d + "px, 0px)" }) }

function advantagesAnimation(e) { var a = $(".canScroll");  var o = $(".list-features"),
        t = $(".list-features > li"),
        i = $(".btn-more"); return o.hasClass("no-hover") ? !1 : (a.perfectScrollbar({ suppressScrollX: !0 }), t.each(function(e) { var a = $(this);
        $_body.hasClass("ismobile") ? a.on("tap", function(e, o) { return a.hasClass("isHover") ? (t.removeClass("isHover fadeOut"), !1) : (a.addClass("isHover").removeClass("fadeOut"), void a.siblings().addClass("fadeOut").removeClass("isHover")) }) : a.mouseenter(function() { a.removeClass("fadeOut").addClass("isHover"), a.siblings().addClass("fadeOut") }).mouseleave(function() { a.removeClass("isHover").addClass("fadeOut"), $.doTimeout(300, function() { return t.hasClass("isHover") ? !1 : void t.removeClass("fadeOut") }) }) }), void i.each(function(e) { var a = $(this);
        a.on("tap", function(e, a) { var o = $(this),
                t = o.closest(".list-features > li"),
                i = t.find(".center"),
                n = t.find(".up"),
                l = t.find(".down");
            i.hasClass("close") ? (i.removeClass("close"), n.removeClass("close"), l.removeClass("close"), t.addClass("is-hover")) : (i.addClass("close"), n.addClass("close"), l.addClass("close"), t.removeClass("is-hover")) }) })) }

function startAllNews() {
    }

function startPageProducts() {
     }

function productsDownload() {
    function e(e, t, i, n) { $("#modalContent").html(e), closeModalReady(originalURL, originalTitle), o(), a(), $("#lightbox .btnClose").attr("style", "") }

    function a() { if ($("#lightbox .withTimer").length) { var e = $("#timerProd"),
                a = 4;
            e.html(a), $.doTimeout(1e3, function() { return a -= 1, 0 > a ? ($("#lightbox .btnClose").click(), !1) : (e.html(a), !0) }) } }

    function o() { $("input, select").focusin(function() { $(this).next("span").addClass("focused") }).focusout(function() { $(this).next("span").removeClass("focused") }), $("select").on("change", function(e) { var a = $("option:selected", this),
                o = this.value,
                t = a.text(),
                i = $(this).prev("label"),
                n = i.attr("data-value"); "" == o ? i.text(n) : i.text(t) }) } $(document).on("click", ".btn-download-data", function(e) { if (e.stopImmediatePropagation(), !$("body").hasClass("noajax")) { var t = $(this),
                i = t.attr("href"),
                n = t.attr("data-title"); if ($("head title").html(n), Modernizr.localstorage) originalURL = localStorage.originalURL, originalTitle = localStorage.originalTitle;
            else { var l = t.attr("data-url-ini"),
                    s = t.attr("data-title-ini");
                originalURL = l, originalTitle = s } return $("body").removeClass("noajax"), $("#modalContent").load(i + " .downloadFile", function() { closeModalReady(originalURL, originalTitle), a(), o(), $("#lightbox .btnClose").attr("style", ""), $("#lightbox .btnClose").css({ transform: "translateY(0)" }) }), !1 } }), $(document).on("submit", "#formBox", function(a) { if (!$("body").hasClass("noajax")) { a.preventDefault(); var o = $(this); return $.ajax({ type: "POST", url: o.attr("action"), data: o.serialize(), success: e }), !1 } }) }

function loadSection(e) {

}

function openModal(e, a, o) {
        }

function closeModalReady(e, a) { }

function scroll_fixeBtnClose() { }

function headerAnimation(e) { var a = $(".toload"),
        o = $(".pageHeader");  $("body").removeClass("home"), e ? (a.velocity({ opacity: 0 }, 0), $_body.addClass("loading"), ($_body.hasClass("ismobile") || $_html.hasClass("ie")) && "lightbox" == a.attr("id") && $_body.addClass("ismobile-lightbox"), $_toPreload.imagesLoaded(function(e, t, i) { var n = $(this).imagesLoaded();
        n.always(function() { $.doTimeout(1e3, function() { a.hasClass("header-push") && !$("body").hasClass("ismobile") && ($(".mainPage.currentPage").addClass("go-push"), a.removeClass("header-push"), o.css({ top: 0 }), $(".markerColor").addClass("colorId")), $_toPreload.remove(), $_body.removeClass("loading"), onStartPageForAjax(), a.velocity({ opacity: 1 }), $(".toload .royalSlider-modal").length ? do_royalslider = !0 : do_royalslider = !1, startRoyalSliderModal(do_royalslider), $("#lightbox .btnClose").click(function(e) { return window.location = $(this).attr("href"), !1 }); var e = window.location.hash;
                a.hasClass("products") && "" != e && $(".navPageProducts a[href=" + e + "]").click(), window.history.state }) }) })) : (onStartPageForAjax()) }

function homepage(e) {
    function a() {  }

    function o(e) {
        function a() {
    o.removeClass("ourNews-current"),
    o.addClass("ourNews-next"),
    t.removeClass("ourNews-next"),
    t.addClass("ourNews-current"),
    $(".ourNews-next").velocity({
        scale: .9,
        translateX: i
    },
    0)
}
var o = $(".ourNews-current"),
t = $(".ourNews-next"),
i = 2 * _globalWindowWidth;
t.velocity({
    scale: .9,
    translateX: i
},
0),
o.velocity({
    scale: [.9, 1]
},
{
    duration: 400,
    easing: "ease-out"
}).velocity({
    translateZ: 0,
    translateX: [ - i, 0]
},
{
    duration: 300,
    easing: [.715, .02, 0, 1],
    delay: 10
}),
t.velocity({
    translateX: ["0", "xtoMove"]
},
{
    duration: 300,
    easing: [.185, .33, .08, .93],
    delay: 400
}).velocity({
    translateZ: 0,
    scale: [1, .9]
},
{
    duration: 400,
    easing: "ease-out",
    delay: 10,
    complete: a()
})
}
_global_webGL_isAnimated = !1,
_global_home_timeAnim = null,
_global_home_lastAnimation = null,
_global_home_quietPeriod = null,
eventMouseHome(!1);
var t = null,
i = $(".nav-home li");

$_window.off("keydown", home_keys),
webglWave("kill", "ourintro"),
_global_webGL_isAnimated = !1,
eventMouseHome(!1),
$(".currentPage .home .relative-wrapper").css("padding", "0"),
!1;
if ($(".mainPage.currentPage .home .slide-wrapper").addClass("fixed"), _global_home_timeAnim = 700, _global_home_lastAnimation = 0, _global_home_quietPeriod = 700, $_window.on("keydown", home_keys), eventMouseHome(!0), stopPlayScroll(!1), _global_webGL_teste ? (webglWave("play", "ourintro"), _global_webGL_isAnimated = !0) : (webglWave("init", "ourintro"), _global_webGL_isAnimated = !0, _global_webGL_teste = !0), !$_body.hasClass("ismobile")) {

}
$(".animGodownHome").on("clickTouchEvent",
function() {
    return $(".nav-home li:eq(1)").click(),
    $_body.hasClass("ismobile") && goTo($("#ourmarkets"), 700, [.7, 0, .3, 1], 0),
    !1
}),
$(".event-markets").mouseover(function() {
    var e = $(this),
    a = e.attr("data-pointer");
    return $(".event-markets").parent().removeClass("action"),
    e.parent().addClass("action"),
    $(".bg-market").css("z-index", "0").removeClass("action2"),
    $("." + a).css("z-index", "1").addClass("action action2"),
    $("body").hasClass("ismobile") && Modernizr.mq("(min-width: 700px)") ? ($(".btn-mobile").css("visibility", "hidden"), e.next().css("visibility", "visible"), !1) : void 0
}),
$(".event-markets").click(function(e) {
    return $("body").hasClass("ismobile") && Modernizr.mq("(min-width: 700px)") ? !1 : void 0
});
var u = $("#tabNews").imagesLoaded();
u.always(function(e) {
    Modernizr.mq("(max-width: 600px)") || a()
}),
$_window.on("resize", $.debounce(100,
function() {
    $("body").hasClass("home") && a()
})),
$(".home .navPage-likeRd a").click("clickTouchEvent",
function(e) {
    var a = $(this),
    t = a.attr("href");
    $(".home .navPage-likeRd li").removeClass("on"),
    $(this).parent().addClass("on");
    var i = t;
    return o(i),
    !1
}),
_infoScrollUseNavHome = !1,
i.click(function(e) {
    var a = $(this),
    o = "100%",
    t = 0,
    i = $(".nav-home li.active"),
    n,
    l,
    s,
    r,
    d,
    c,
    d = a.index(),
    c = i.index();
    if (fClickNav(d), d > c) {
        var l = a.attr("data-url");
        n = !0
    } else {
        var l = i.attr("data-url");
        o = 0,
        t = "100%",
        n = !1
    }
    var u = $("#" + l),
    s = parseInt(u.attr("data-index"));
    if (d > 0 && _global_webGL_isAnimated ? (webglWave("stop", "ourintro"), _global_webGL_isAnimated = !1) : 0 >= d && !_global_webGL_isAnimated && (webglWave("play", "ourintro"), _global_webGL_isAnimated = !0), _infoScrollUseNavHome = !1, d >= 3) {
        _infoScrollUseNavHome = !0,
        $(".relative-wrapper").removeClass("fixed");
        var v = _globalWindowHeight;
        return d > 3 && (v = 2 * _globalWindowHeight),
        void $("html").velocity("scroll", {
            duration: 700,
            offset: v,
            easing: [.7, 0, .3, 1],
            mobileHA: !1,
            complete: function() {
                window.scroll(0, v);
                for (var e = 1; 3 > e; e++) $("section[data-index=" + e + "]").css({
                    transform: "translateY(0)"
                });
                $.doTimeout(500,
                function() {
                    eventMouseHome(!1),
                    $_window.on("scroll", home_onscrollControll)
                })
            }
        });
        e.preventDefault()
    }
    if (2 >= d && c >= 3) {
        for (var r = d + 1; c > r; r++) r >= 3 || $("section[data-index=" + r + "]").css({
            transform: "translateY(100%)"
        });
        return void $("html").velocity("scroll", {
            duration: 700,
            offset: 0,
            easing: [.7, 0, .3, 1],
            mobileHA: !1,
            complete: function() {
                window.scroll(0, 0),
                $.doTimeout(0,
                function() {
                    eventMouseHome(!0),
                    $(".relative-wrapper").addClass("fixed"),
                    $_window.off("scroll", home_onscrollControll)
                })
            }
        });
        e.preventDefault()
    }
    if (!n) for (var r = d + 1; c > r; r++) r >= 3 || $("section[data-index=" + r + "]").css({
        transform: "translateY(100%)"
    });
    u.velocity({
        translateY: [t, o]
    },
    {
        duration: _global_home_timeAnim,
        easing: [.715, .02, 0, 1],
        mobileHA: !1,
        complete: function() {
            if (n) for (var e = 1; s > e; e++) $("section[data-index=" + e + "]").css({
                transform: "translateY(0)"
            })
        }
    }),
    e.preventDefault()
})
}

function fClickNav(e) { $(".nav-home li").removeClass("active"), $(".nav-home li:eq(" + e + ")").addClass("active") }

function fSlideHome(e) { var a = $(".nav-home li").length,
        o = $(".nav-home li.active").index(); if ("down" == e) { if (o >= a - 1) return !1; var t = o + 1 } else { if (0 == o) return !1; var t = o - 1 } $(".nav-home li:eq(" + t + ")").click() }

function home_onscrollControll() { var e = verge.scrollY(),
        a = Math.round(1.5 * _globalWindowHeight),
        o = a / 2;
    e < _globalWindowHeight && eventMouseHome(!0), _infoScrollUseNavHome && (e >= 1 && o > e && fClickNav(3), e >= a && fClickNav(4)) }

function home_keys(e) { var a = $(".nav-home li").length,
        o = $(".nav-home li.active").index(); switch (e.which) {
        case 40:
            return fSlideHome("down"), !1; break;
        case 38:
            return fSlideHome("up"), !1 } }

function displaywheelHome(e) { var a = window.event || e,
        o = a.detail ? -120 * a.detail : a.wheelDelta,
        t = (new Date).getTime(); return t - _global_home_lastAnimation < _global_home_quietPeriod + _global_home_timeAnim ? (a.stopPropagation(), void a.preventDefault()) : (fSlideHome(0 > o ? "down" : "up"), _global_home_lastAnimation = t, void a.preventDefault()) }

function eventMouseHome(e) { }

function displaywheel(e) {  }

function eventMouseBecauseFF(e) { }

function startRoyalSlider(e) { if (!e) return !1;
    $_html.hasClass("ie") ? slideAnimEase = "linear" : slideAnimEase = "easeOut"; var a = $("#slideimages-royal1").royalSlider({ fullscreen: { enabled: !0, nativeFS: !1 }, addActiveClass: !0, controlsInside: !1, controlNavigation: "bullets", imageScaleMode: "fill", autoScaleSlider: !0, autoScaleSliderWidth: 1274, autoScaleSliderHeight: 580, loop: !0, fadeinLoadedSlide: !1, globalCaption: !1, globalCaptionInside: !1, navigateByClick: !0, numImagesToPreload: 1, arrowsNav: !1, arrowsNavAutoHide: !0, arrowsNavHideOnTouch: !0, keyboardNavEnabled: !0, transitionSpeed: 800, easeInOut: slideAnimEase }).data("royalSlider");
    $(".rsFullscreenBtn").on("click", function(e) { e.preventDefault() }) }

function startRoyalSliderModal(e) { if (!e) return !1;
    $_html.hasClass("ie") ? slideAnimEase = "linear" : slideAnimEase = "easeOut", openPopUp(); var a = $("#modalimages-royal").royalSlider({ addActiveClass: !0, controlsInside: !1, controlNavigation: "none", imageScaleMode: "fill", autoScaleSlider: !0, autoScaleSliderWidth: 810, autoScaleSliderHeight: 465, loop: !0, fadeinLoadedSlide: !1, globalCaption: !1, globalCaptionInside: !1, navigateByClick: !0, numImagesToPreload: 1, arrowsNav: !0, arrowsNavAutoHide: !1, arrowsNavHideOnTouch: !0, keyboardNavEnabled: !0, transitionSpeed: 800, easeInOut: slideAnimEase, sliderDrag: !1 }).data("royalSlider");
    a.ev.on("rsBeforeSizeSet", function(e) { var o = a.width;
        $(document).width() > 767 ? $("#lightbox header .title").width(o - 120) : $("#lightbox header .title").width("auto") }), a.ev.on("rsVideoPlay", function() { $(document).width() > 767 && $("#lightbox header .title").hide() }), a.ev.on("rsVideoStop", function() { $("#lightbox .btnClose").show(), $(document).width() > 767 && $("#lightbox header .title").show() }), a.ev.on("rsVideoPlay", function() { var e = $(".rsCloseVideoBtn"),
            a = $("#modalimages-royal").attr("data-closeVideoBtn");
        e.append(a) }) }

function startRoyalSliderProducts() { $_html.hasClass("ie") ? slideAnimEase = "linear" : slideAnimEase = "easeOut", $(".slide-wrap .slide li, .slide-wrap h2, .slide-wrap .more").fadeTo(400, 1); var e = $(".royalSlider-products"),
        a = "bullets",
        o = e.royalSlider({ addActiveClass: !0, controlsInside: !1, controlNavigation: a, imageScaleMode: "fill", autoScaleSlider: !1, loop: !0, fadeinLoadedSlide: !1, globalCaption: !1, globalCaptionInside: !1, navigateByClick: !0, numImagesToPreload: 1, arrowsNav: !1, arrowsNavAutoHide: !0, arrowsNavHideOnTouch: !0, keyboardNavEnabled: !0, transitionSpeed: 800, easeInOut: slideAnimEase, block: { fadeEffect: !0, moveEffect: "bottom", moveOffset: 20, speed: 400, easing: slideAnimEase, delay: 0 } }).data("royalSlider") }

function startRoyalSlider_exit(e) { if (e) { var a = $(".royalSlider").data("royalSlider");
        a.destroy() } }

function openPopUp() { var e = $(".openPopUp");
    $(e).popupWindow({ centerScreen: 1 }) }

function fadeInAudio(e, a) { var o = 0,
        t = 0,
        i = null;
    $.doTimeout(a, function() { return o += 1, t = o / 100, i = t, e.volume = i, 100 > o ? !0 : !1 }) }

function fixeNavInPage() { $_obgToBeFixed = $(".fixethis"), Y_obgToBeFixed = $_obgToBeFixed.offset().top }

function fixeNavInPageAction() { _globalWindowScrollY > Y_obgToBeFixed ? $_obgToBeFixed.addClass("fixed") : $_obgToBeFixed.removeClass("fixed") } $(document).ready(function() { outdatedBrowser({ bgColor: "#f25648", color: "#fff", lowerThan: "IE9" }), Modernizr.addTest("backgroundcliptext", function() { var e = document.createElement("div"); return e.style.cssText = Modernizr._prefixes.join("background-clip:text;"), !!e.style.cssText.replace(/\s/g, "").length }), $("body").hasClass("ismobile") && $("html").hasClass("no-boxShadow") && $("#mainNav-scroll").hide() }), flipScaleSquares(), $(".btnClose-video").on("click", function() { event.stopImmediatePropagation(), $(".rsCloseVideoBtn").click() }), _global_webGL_teste = !1, $(document).ready(function() { var e = window.location.host,
        a = " | FiberSensing",
        o = $("h1 a").attr("data-title-home");
    forPopstate = !0, $_linkInternal = $('a[href*="' + e + '"]'), $(document).on("click", 'a[href*="' + e + '"] ', function() { var e = $(this); if (!(e.hasClass("modal") || $_body.hasClass("ismobile") || $_html.hasClass("ie") || e.hasClass("no-transPage") || e.parents("#nav-lang").hasClass("no-transPage") || e.hasClass("btn-loadmore") || e.hasClass("btn-download-data"))) { var t = e.attr("href"),
                i = e.attr("data-title"),
                n = t,
                l = n,
                s = i + a; return "" == i && (s = o), forPopstate && history.pushState({}, s, l), forPopstate = !0, $("head title").html(s), mainNav_sectionOn(n), ga("send", "pageview", window.location.pathname), loadSection(n), !1 } }), window.addEventListener && window.addEventListener("popstate", function(e) { return $("body").hasClass("ismobile") ? !1 : e.state ? (forPopstate = !1, $_body.css("opacity", "0"), window.location = window.location, !1) : (forPopstate = !0, !1) }); var t = $("#modalBg"),
        i = $("#modalWrapper"),
        n = $("#lightbox"),
        l = $(".modal");
    productsDownload(), $(document).on("click", ".modal", function() { if ($("html").hasClass("ie9")) return !0; if ($("body").hasClass("ismobile") || !window.history.pushState) return !0; var e = $(this),
            o = window.location.pathname,
            t = $("head title").text(),
            i = e.attr("href"),
            n = e.attr("data-title"),
            l = i,
            s = l,
            r = n + a; return forPopstate && history.pushState({}, r, s), forPopstate = !0, $("head title").html(r), ga("send", "pageview", window.location.pathname), Modernizr.localstorage && (localStorage.originalURL = o, localStorage.originalTitle = t), openModal(l, o, t), !1 }), _global_transitionsEvent = "transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd", $_window = $(window), $_body = $("body"), $_html = $("html"), $_headNav = $("#headNav"), $_btnCloseNav = $(".btnCloseNav a"), $_mainNav = $("#mainNav"), $_mainNavHasSec = $("#mainNavList a.hasSecNav"), $_mainNavHasSecOpen = $("#mainNavList .hasSecNav.active"), $_secnav = $(".secNavList"), $_currentContent = $(".mainPage.currentPage"), $_nextContentTemp = $(".mainPage.nextPage"), $_toPreload = $("preload"), $_holderLoad = $("#holderLoad"), _globalWindowHeight = calculateHeight(), _globalWindowWidth = calculateWidth(), _globalWindowScrollY = verge.scrollY(), _globalScrollTopMainNav = 0, _globalFooterHeight = $("footer").height(), _yPositionMobileForNav = 0, $_currentContent.css("min-height", calculateHeight()), mobileBehaviorClass("1024px"), mainNavigation(), fullImageSize(), fullImageSize_min(), fullFixedBg(), headerAnimation(!0), $.cookie("mute-sound") || $.cookie("mute-sound", "false", { expires: 7, path: "/" }), muteSound(), $_body.hasClass("ismobile") && headerForMobile(), FastClick.attach(document.body), $(document).on("keydown", function(e) { switch (e.which) {
            case 40:
                break;
            case 38:
                break;
            case 27:
                if ($("body").hasClass("modal-open")) { return $("#lightbox .btnClose").click(), !1; break } return $_btnCloseNav.click(), !1 } }), $_window.on("resize", $.debounce(500, function() { var e = $(".currentPage .toload"); if (_globalWindowHeight = calculateHeight(), _globalWindowWidth = calculateWidth(), fullImageSize(), fullImageSize_min(), mobileBehaviorClass("1024px"), e.hasClass("home") && !$_html.hasClass("ie9") && $.doTimeout(1e3, function() { return !1 }), e.hasClass("products")) { var a = $(".navPageProducts");
            verge.viewportH() < a.height() ? a.addClass("not-fixed") : a.removeClass("not-fixed") } })), $_window.on("scroll", $.debounce(10, function() { _globalWindowScrollY = verge.scrollY(), mainNav_changecolor() })) }), Visibility.change(function(e, a) { "hidden" == a && $(".currentPage .market").length && ($("audio")[0].volume = 0, $("audio").prop("muted", !0)), "visible" == a && $(".currentPage .market").length && ($("audio").prop("muted", !1), fadeInAudio($("audio")[0], 16)) });